{"version":3,"sources":["lib/ScrollingColorBackground/index.js","lib/ScrollingColorBackground/getElementOffset.js","utils/matchMedia.js","index.js"],"names":["ScrollingColorBackground","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","rgbString","initialRgb","_handleScroll","bind","assertThisInitialized","_this$props","selector","colorDataAttribute","_colorPositions","toConsumableArray","document","querySelectorAll","map","el","getAttribute","startY","top","left","isNaN","offsetTop","offsetLeft","offsetParent","getElementOffset","_throttledScroll","throttle","window","addEventListener","removeEventListener","yOffset","pageYOffset","nrItems","length","nextIndex","findIndex","_ref","_nextIndex","first","next","distanceBetweenCovered","Math","max","min","_chroma$mix$_rgb","slicedToArray","chroma","mix","_rgb","r","g","b","concat","round","onChange","setState","_this$state","className","style","react_default","a","createElement","objectSpread","backgroundColor","Component","defaultProps","position","bottom","right","size","element","documentElement","page","getElementsByTagName","pageHeight","innerWidth","clientWidth","innerHeight","clientHeight","media","matchMedia","matches","addListener","removeListener","paths1","horizontal","vertical","paths2","paths3","generateBallPaths","paths","isMobile","newArray","forEach","path","index","push","horizontalOffset","duration","generateSceneConfig","target","triggerElement","triggerHook","App","handleResolution","mediaQueryList","handleRgbStringChange","body","controller1","ScrollMagic","Controller","controller2","controller3","tween1","TimelineLite","tween2","tween3","ball","React","createRef","trigger1","trigger2","trigger3","target1","target2","target3","_this2","scene1Config","current","scene2Config","scene3Config","ballPaths1","ballPaths2","ballPaths3","item","add","TweenLite","to","css","margin-left","ease","Power0","easeNone","Scene","setPin","setTween","addTo","paddingTop","ref","data-background-color","rootElement","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.74ff5225.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport throttle from 'lodash.throttle'\nimport chroma from 'chroma-js'\n\nimport getElementOffset from './getElementOffset'\n\nclass ScrollingColorBackground extends Component {\n  constructor(props) {\n    super()\n    this.state = { rgbString: props.initialRgb }\n    this._handleScroll = this._handleScroll.bind(this)\n  }\n  componentDidMount() {\n    const { selector, colorDataAttribute } = this.props\n    this._colorPositions = [...document.querySelectorAll(selector)].map(el => {\n      return {\n        rgbString: el.getAttribute(colorDataAttribute),\n        startY: getElementOffset(el).top\n      }\n    })\n    this._throttledScroll = throttle(this._handleScroll, 60)\n    window.addEventListener('scroll', this._throttledScroll)\n    // in case user was scrolled already, do one update to get right background color\n    this._handleScroll()\n  }\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this._throttledScroll)\n  }\n  _handleScroll() {\n    const yOffset = window.pageYOffset\n\n    // clamp nextIndex between 1 and the highest index in this._colorPositions\n    const nrItems = this._colorPositions.length\n    let nextIndex = this._colorPositions.findIndex(\n      ({ startY }) => startY > yOffset\n    )\n    if (nextIndex === -1) {\n      // NOTE: if we scrolled past the last one; keep the color of the last one\n      nextIndex = this._nextIndex === nrItems - 1 ? nrItems - 1 : 1\n    } else if (nextIndex === 0) {\n      nextIndex = 1\n    }\n    // save for checking next time\n    this._nextIndex = nextIndex\n\n    const first = this._colorPositions[nextIndex - 1]\n    const next = this._colorPositions[nextIndex]\n    const distanceBetweenCovered = Math.max(\n      0,\n      Math.min(1, (yOffset - first.startY) / (next.startY - first.startY))\n    )\n\n    const [r, g, b] = chroma.mix(\n      first.rgbString,\n      next.rgbString,\n      distanceBetweenCovered\n    )._rgb\n    const rgbString = `rgb(${Math.round(r)},${Math.round(g)},${Math.round(b)})`\n\n    if (rgbString !== this.state.rgbString) {\n      this.props.onChange(rgbString)\n      this.setState({ rgbString })\n    }\n  }\n  render() {\n    const { className, rgbString } = this.state\n    const { style } = this.props\n    return (\n      <section\n        style={{\n          ...style,\n          backgroundColor: rgbString\n        }}\n        className={className}\n      />\n    )\n  }\n}\n\nScrollingColorBackground.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object.isRequired,\n  initialRgb: PropTypes.string.isRequired,\n  selector: PropTypes.string.isRequired,\n  colorDataAttribute: PropTypes.string.isRequired,\n  onChange: PropTypes.func\n}\n\nScrollingColorBackground.defaultProps = {\n  className: 'scrolling-color-background',\n  style: {\n    position: 'fixed',\n    top: '0px',\n    left: '0px',\n    bottom: '0px',\n    right: '0px'\n  },\n  initialRgb: 'rgb(0,0,0)',\n  selector: '[data-background-color]',\n  colorDataAttribute: 'data-background-color',\n  onChange: ()=>{}\n}\n\nexport default ScrollingColorBackground","// calcule the offset in pixels to top of the site,\n// from a DOM element (el)\nexport default function getElementOffset(el) {\n  let top = 0\n  let left = 0\n\n  // grab the offset of the element relative to it's parent,\n  // then repeat with the parent relative to it's parent,\n  // ... until we reach an element without parents.\n  do {\n    if (!isNaN(el.offsetTop)) {\n      top += el.offsetTop\n    }\n    if (!isNaN(el.offsetLeft)) {\n      left += el.offsetLeft\n    }\n    el = el.offsetParent\n  } while (el)\n\n  return { top, left }\n}","export default size => {\n  window.matchMedia =\n    window.matchMedia ||\n    function() {\n      return {\n        matches: false,\n        addListener: function() {},\n        removeListener: function() {},\n      };\n    };\n\n  return window.matchMedia(size);\n};\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport ScrollMagic from \"scrollmagic\";\nimport { TweenLite, TimelineLite, Power0 } from \"gsap\";\nimport \"animation.gsap\";\nimport \"debug.addIndicators\";\nimport ScrollingColorBackground from \"./lib/ScrollingColorBackground\";\nimport matchMedia from \"./utils/matchMedia\";\n\nimport \"./styles.css\";\n\nconst DESKTOP_HEIGHT = 1080;\nconst MOBILE_HEIGHT = 506;\n\nconst element = document.documentElement,\n  page = document.getElementsByTagName(\"body\")[0],\n  pageWidth = window.innerWidth || element.clientWidth || page.clientWidth,\n  pageHeight = window.innerHeight || element.clientHeight || page.clientHeight;\n\nconst PADDING_TOP = 120;\n\nconst media = matchMedia(\"(max-width: 640px)\");\n\nconst paths1 = [\n  {\n    horizontal: 250,\n    vertical: 1.38\n  },\n  {\n    horizontal: 284,\n    vertical: 0.519\n  },\n  {\n    horizontal: 250,\n    vertical: 0.463\n  },\n  {\n    horizontal: 115,\n    vertical: 1.824\n  },\n  {\n    horizontal: -66,\n    vertical: 1.009\n  },\n  {\n    horizontal: -203,\n    vertical: 1.824\n  },\n  {\n    horizontal: -291,\n    vertical: 0.463\n  },\n  {\n    horizontal: -325,\n    vertical: 0.519\n  },\n  {\n    horizontal: -291,\n    vertical: 0.5\n  },\n  {\n    horizontal: 0,\n    vertical: 1.5\n  }\n];\n\nconst paths2 = [\n  {\n    horizontal: 121,\n    vertical: 0.843\n  },\n  {\n    horizontal: 155,\n    vertical: 0.674\n  },\n  {\n    horizontal: 121,\n    vertical: 0.674\n  },\n  {\n    horizontal: -30,\n    vertical: 2.299\n  },\n  {\n    horizontal: -65,\n    vertical: 0.674\n  },\n  {\n    horizontal: -20,\n    vertical: 0.674\n  },\n  {\n    horizontal: 14,\n    vertical: 0.674\n  },\n  {\n    horizontal: -30,\n    vertical: 0.602\n  },\n  {\n    horizontal: -239,\n    vertical: 1.505\n  },\n  {\n    horizontal: -273,\n    vertical: 0.674\n  },\n  {\n    horizontal: -239,\n    vertical: 0.626\n  },\n  {\n    horizontal: -101,\n    vertical: 2.407\n  },\n  {\n    horizontal: 0,\n    vertical: 0.674\n  }\n];\n\nconst paths3 = [\n  {\n    horizontal: 255,\n    vertical: 1.25\n  },\n  {\n    horizontal: 289,\n    vertical: 0.467\n  },\n  {\n    horizontal: 255,\n    vertical: 0.467\n  },\n  {\n    horizontal: 108,\n    vertical: 1.625\n  },\n  {\n    horizontal: -290,\n    vertical: 1.933\n  },\n  {\n    horizontal: -324,\n    vertical: 0.467\n  },\n  {\n    horizontal: -290,\n    vertical: 0.467\n  },\n  {\n    horizontal: -144,\n    vertical: 1.608\n  },\n  {\n    horizontal: 0,\n    vertical: 0.717\n  }\n];\n\nconst generateBallPaths = (paths, isMobile) => {\n  let newArray = [];\n\n  paths.forEach((path, index) => {\n    // if (index === 0) {\n    //   newArray.push({\n    //     horizontalOffset: `${path.horizontal}px`,\n    //     // {\n    //     //   values: [\n    //     //     { x: 0 },\n    //     //     { x: isMobile ? path.horizontal * 0.46875 : path.horizontal }\n    //     //   ]\n    //     // },\n    //     duration: path.vertical\n    //   });\n    // } else {\n    //   newArray.push({\n    //     horizontalOffset: `${path.horizontal}px`,\n    //     // {\n    //     //   values: [\n    //     //     {\n    //     //       x: isMobile\n    //     //         ? paths[index - 1].horizontal * 0.46875\n    //     //         : paths[index - 1].horizontal\n    //     //     },\n    //     //     { x: isMobile ? path.horizontal * 0.46875 : path.horizontal }\n    //     //   ]\n    //     // },\n    //     duration: path.vertical\n    //   });\n    // }\n\n    newArray.push({\n      horizontalOffset: isMobile ? (path.horizontal * 0.46875) : path.horizontal,\n      duration: path.vertical\n    });\n  });\n\n  return newArray;\n};\n\nconst generateSceneConfig = (target, isMobile) => {\n  return {\n    triggerElement: target,\n    duration: isMobile ? MOBILE_HEIGHT : DESKTOP_HEIGHT,\n    triggerHook: PADDING_TOP / pageHeight\n  };\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.controller1 = new ScrollMagic.Controller();\n    this.controller2 = new ScrollMagic.Controller();\n    this.controller3 = new ScrollMagic.Controller();\n\n    this.tween1 = new TimelineLite();\n    this.tween2 = new TimelineLite();\n    this.tween3 = new TimelineLite();\n\n    this.ball = React.createRef();\n\n    this.trigger1 = React.createRef();\n    this.trigger2 = React.createRef();\n    this.trigger3 = React.createRef();\n\n    this.target1 = React.createRef();\n    this.target2 = React.createRef();\n    this.target3 = React.createRef();\n  }\n\n  state = {\n    isMobile: media.matches\n  };\n\n  componentDidMount() {\n    this.handleResolution(media);\n    media.addListener(this.handleResolution);\n\n    const scene1Config = generateSceneConfig(\n      this.trigger1.current,\n      this.state.isMobile\n    );\n    const scene2Config = generateSceneConfig(\n      this.trigger2.current,\n      this.state.isMobile\n    );\n    const scene3Config = generateSceneConfig(\n      this.trigger3.current,\n      this.state.isMobile\n    );\n\n    const ballPaths1 = generateBallPaths(paths1, this.state.isMobile);\n    const ballPaths2 = generateBallPaths(paths2, this.state.isMobile);\n    const ballPaths3 = generateBallPaths(paths3, this.state.isMobile);\n\n    ballPaths1.forEach(item => {\n      return this.tween1.add(\n        TweenLite.to(this.ball.current, item.duration, {\n          css: {\n            'margin-left': `${item.horizontalOffset}px`,\n            // '-webkit-transform:': item.horizontalOffset,\n          },\n          ease: Power0.easeNone\n        })\n      );\n    });\n    ballPaths2.forEach(item => {\n      return this.tween2.add(\n        TweenLite.to(this.ball.current, item.duration, {\n          css: {\n            'margin-left': `${item.horizontalOffset}px`,\n            // '-webkit-transform:': item.horizontalOffset,\n          },\n          ease: Power0.easeNone\n        })\n      );\n    });\n    ballPaths3.forEach(item => {\n      return this.tween3.add(\n        TweenLite.to(this.ball.current, item.duration, {\n          css: {\n            'margin-left': `${item.horizontalOffset}px`,\n            // '-webkit-transform:': item.horizontalOffset,\n          },\n          ease: Power0.easeNone\n        })\n      );\n    });\n\n    new ScrollMagic.Scene(scene1Config)\n      .setPin(this.target1.current)\n      .setTween(this.tween1)\n      .addTo(this.controller1);\n\n    new ScrollMagic.Scene(scene2Config)\n      .setPin(this.target2.current)\n      .setTween(this.tween2)\n      .addTo(this.controller2);\n\n    new ScrollMagic.Scene(scene3Config)\n      .setPin(this.target3.current)\n      .setTween(this.tween3)\n      .addTo(this.controller3);\n  }\n\n  componentWillUnmount() {\n    media.removeListener(this.handleResolution);\n  }\n\n  handleResolution = mediaQueryList => {\n    this.setState({\n      isMobile: mediaQueryList.matches\n    });\n  };\n\n  handleRgbStringChange = rgbString => {\n    document.body.style = `background-color: ${rgbString}`;\n  };\n\n  render() {\n    return (\n      <div className=\"root\" style={{ paddingTop: PADDING_TOP }}>\n        {/*<ScrollingColorBackground*/}\n          {/*selector=\".section[data-background-color]\"*/}\n          {/*colorDataAttribute=\"data-background-color\"*/}\n          {/*initialRgb=\"rgb(32, 202, 172)\"*/}\n          {/*style={{*/}\n            {/*zIndex: -1,*/}\n            {/*position: \"fixed\",*/}\n            {/*top: \"0px\",*/}\n            {/*left: \"0px\",*/}\n            {/*right: \"0px\",*/}\n            {/*bottom: \"0px\"*/}\n          {/*}}*/}\n          {/*onChange={this.handleRgbStringChange}*/}\n        {/*/>*/}\n\n        <div className=\"ball isFixed\" ref={this.ball} />\n\n        <section className=\"section\" data-background-color=\"rgb(32, 202, 172)\">\n          <div className=\"wrapper wrapper1\">\n            <div className=\"trigger\" ref={this.trigger1} />\n            <div className=\"target\" ref={this.target1} />\n          </div>\n        </section>\n\n        <section className=\"section\" data-background-color=\"rgb(60, 191, 246)\">\n          <div className=\"wrapper wrapper2\">\n            <div className=\"trigger\" ref={this.trigger2} />\n            <div className=\"target\" ref={this.target2} />\n          </div>\n        </section>\n\n        <section className=\"section\" data-background-color=\"rgb(160, 91, 126)\">\n          <div className=\"wrapper wrapper3\">\n            <div className=\"trigger\" ref={this.trigger3} />\n            <div className=\"target\" ref={this.target3} />\n          </div>\n        </section>\n\n        <div className=\"trigger\" />\n\n        <section className=\"section\" data-background-color=\"rgb(160, 91, 126)\">\n          <div className=\"spacer\" />\n          <div className=\"spacer\" />\n        </section>\n      </div>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}